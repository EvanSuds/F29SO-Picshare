{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\evan_\\\\Documents\\\\GitHub\\\\F29SO-Picshare\\\\client\\\\src\\\\Newsfeed.js\";\nimport React, { Component } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Container from '@material-ui/core/Container';\nimport List from '@material-ui/core/List';\nimport { withRouter, useHistory, BrowserRouter, Switch, Route, Link, Redirect } from \"react-router-dom\";\nimport PostDialog from './PostDialog';\nimport Post from './Post';\nimport Axios from 'axios';\nimport { withStyles } from \"@material-ui/core/styles\";\nimport exifr from 'exifr';\n\nconst styles = theme => ({\n  root: {\n    backgroundColor: \"red\"\n  },\n  listClass: {\n    display: 'inline-block'\n  },\n  listClass2: {\n    display: 'inline-block',\n    alignItems: 'center',\n    justify: 'center'\n  }\n});\n\nclass Newsfeed extends Component {\n  constructor(props) {\n    super(props);\n    this.addPost = this.addPost.bind(this);\n    this.createPost = this.createPost.bind(this);\n    this.state = {\n      feedItems: [],\n      currentText: \"\",\n      user: \"\"\n    };\n  }\n\n  createPostNoAdd(description, tags, file, lat, long) {\n    return /*#__PURE__*/_jsxDEV(Post, {\n      description: description,\n      tags: tags,\n      file: file,\n      user: this.state.user,\n      toAdd: false,\n      lat: lat,\n      long: long\n    }, this.state.feedItems.length, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 16\n    }, this);\n  }\n\n  createPost(description, tags, file, lat, long) {\n    return /*#__PURE__*/_jsxDEV(Post, {\n      description: description,\n      tags: tags,\n      file: file,\n      user: this.state.user,\n      toAdd: true,\n      lat: lat,\n      long: long\n    }, this.state.feedItems.length, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 16\n    }, this);\n  }\n\n  addPost(description, tags, image, lat, long) {\n    const newPost = this.createPost(description, tags, image, lat, long);\n    this.setState({\n      feedItems: this.state.feedItems.concat([newPost])\n    });\n  }\n\n  getPosts() {\n    Axios.post('http://localhost:3001/allposts', {}).then(response => {\n      if (response) {\n        console.log(response.data);\n\n        for (var i = 0; i < response.data.length; i++) {\n          const newPost = this.createPostNoAdd(response.data[i].PostDes, response.data[i].Username, response.data[i].Image, response.data[i].latitude, response.data[i].longitude);\n          this.setState({\n            feedItems: this.state.feedItems.concat([newPost])\n          });\n        }\n      } else {\n        console.log(\"no response\");\n      }\n    });\n  }\n\n  componentDidMount() {\n    // Runs after the first render\n    Axios.get('http://localhost:3001/checklogin').then(response => {\n      if (response.data.loggedIn === true) {\n        this.setState({\n          user: response.data.user[0].username\n        });\n        console.log(response.data.user[0].username);\n      }\n    });\n    this.getPosts();\n  }\n\n  render() {\n    const {\n      classes\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(Container, {\n      className: classes.listClass,\n      children: [/*#__PURE__*/_jsxDEV(PostDialog, {\n        onPostSubmit: this.addPost\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(List, {\n        ref: \"feed\",\n        className: classes.listClass2,\n        children: [console.log(\"number of elements: \" + this.state.feedItems.length), this.state.feedItems.reverse().map(item => {\n          return item;\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default withStyles(styles, {\n  withTheme: true\n})(Newsfeed);","map":{"version":3,"sources":["C:/Users/evan_/Documents/GitHub/F29SO-Picshare/client/src/Newsfeed.js"],"names":["React","Component","TextField","Button","Container","List","withRouter","useHistory","BrowserRouter","Switch","Route","Link","Redirect","PostDialog","Post","Axios","withStyles","exifr","styles","theme","root","backgroundColor","listClass","display","listClass2","alignItems","justify","Newsfeed","constructor","props","addPost","bind","createPost","state","feedItems","currentText","user","createPostNoAdd","description","tags","file","lat","long","length","image","newPost","setState","concat","getPosts","post","then","response","console","log","data","i","PostDes","Username","Image","latitude","longitude","componentDidMount","get","loggedIn","username","render","classes","reverse","map","item","withTheme"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Container from '@material-ui/core/Container';\r\nimport List from '@material-ui/core/List';\r\nimport {withRouter, useHistory, BrowserRouter , Switch, Route, Link, Redirect} from \"react-router-dom\";\r\nimport PostDialog from './PostDialog';\r\nimport Post from './Post';\r\nimport Axios from 'axios';\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport exifr from 'exifr';\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n      backgroundColor: \"red\"\r\n    },\r\n    listClass: {\r\n      display:'inline-block',\r\n    },\r\n    listClass2: {\r\n        display:'inline-block',\r\n        alignItems:'center',\r\n     justify:'center',\r\n\r\n      }\r\n  });\r\n\r\n\r\nclass Newsfeed extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.addPost = this.addPost.bind(this);\r\n        this.createPost = this.createPost.bind(this);\r\n\r\n        this.state = {\r\n            feedItems : [],\r\n            currentText : \"\",\r\n            user : \"\"\r\n\r\n        }\r\n    }\r\n\r\n    createPostNoAdd(description, tags, file, lat, long) {\r\n        return <Post key={this.state.feedItems.length} description={description} tags={tags} file={file} user={this.state.user} toAdd = {false} lat = {lat} long = {long}/>;\r\n    }\r\n\r\n    createPost(description, tags, file, lat, long) {\r\n        return <Post key={this.state.feedItems.length} description={description} tags={tags} file={file} user={this.state.user} toAdd = {true} lat = {lat} long = {long}/>;\r\n    }\r\n\r\n    addPost(description, tags, image, lat, long) {\r\n        const newPost = this.createPost(description, tags, image, lat, long);\r\n        this.setState({\r\n            feedItems : this.state.feedItems.concat([newPost])\r\n        });\r\n    }\r\n\r\n    getPosts() {\r\n\r\n      Axios.post('http://localhost:3001/allposts', {\r\n          }).then((response) => {\r\n            if(response){\r\n\r\n              console.log(response.data);\r\n              for(var i = 0; i < response.data.length; i++) {\r\n                const newPost = this.createPostNoAdd(response.data[i].PostDes,response.data[i].Username,response.data[i].Image,response.data[i].latitude,response.data[i].longitude);\r\n                this.setState({\r\n                    feedItems : this.state.feedItems.concat([newPost])\r\n                });\r\n\r\n            }\r\n            } else {\r\n                console.log(\"no response\")\r\n                }\r\n              });\r\n    }\r\n\r\n    componentDidMount() { // Runs after the first render\r\n        Axios.get('http://localhost:3001/checklogin').then((response)=> {\r\n        if(response.data.loggedIn === true){\r\n          this.setState({\r\n              user : response.data.user[0].username\r\n          });\r\n          console.log(response.data.user[0].username)\r\n\r\n        }\r\n\r\n        });\r\n        this.getPosts();\r\n\r\n    }\r\n\r\n    render(){\r\n        const { classes } = this.props;\r\n\r\n        return (\r\n            <Container className={classes.listClass}>\r\n            <PostDialog onPostSubmit={this.addPost}></PostDialog>\r\n            <List ref=\"feed\"className={classes.listClass2} >\r\n                {console.log(\"number of elements: \" + this.state.feedItems.length)}\r\n                {this.state.feedItems.reverse().map((item) =>\r\n                {\r\n                return item\r\n                })\r\n                }\r\n            </List>\r\n            </Container>\r\n\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(Newsfeed);\r\n"]},"metadata":{},"sourceType":"module"}